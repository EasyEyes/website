<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EasyEyes CSF</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div>
      <video id="csf-video" controls autoplay loop playsinline></video>
    </div>
    <h3><span id="message1"></span></h3>
    <p><span id="message3" hidden></span></p>
    <script src="https://cdn.jsdelivr.net/npm/remote-calibrator@latest"></script>
    <script>
      const message1 = document.getElementById("message3");
      const csf_video = document.getElementById("csf-video");

      const isHVC1Supported = MediaSource.isTypeSupported(
        'video/mp4; codecs="hvc1"'
      );
      const isAVC1Supported = MediaSource.isTypeSupported(
        'video/mp4; codecs="avc1.6e0033"'
      );
      RemoteCalibrator.init({ id: "session_022" });
      message3.innerHTML =
        " Browser detected: " + RemoteCalibrator.browser.value;
      if (isHVC1Supported == true) {
        csf_video.src = "CSF-PNG/safari_CSF.mp4";
      } else if (isAVC1Supported == true) {
        csf_video.src = "CSF-PNG/chrome_CSF.mp4";
      } else {
        message1.innerHTML =
          "Both hvc1 codec and avc1.6e0033 codec are not supported by your browser. Please use CHROME or SAFARI ";
      }
      csf_video.removeAttribute("controls");
    </script>
  </body>
</html>
